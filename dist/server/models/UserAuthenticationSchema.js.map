{"version":3,"sources":["../../../src/server/models/UserAuthenticationSchema.js"],"names":["Schema","UserAuthenticationSchema","state","String","iss","authorizationCode","accessToken","authorizationURL","tokenURL","patient","Number","UserAuthenticationModel","model","save","userAuthentication","saveHelper","bind","findByState","findByStateHelper","update","_id","$set","updateHelper","find","userAuth","userAuthenticationToSave","toJS","findByIdAndUpdate"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;AAEA,IAAIA,SAAS,mBAASA,MAAtB;;AAEA,IAAMC,2BAA2B,IAAID,MAAJ,CAAW;AACxCE,WAAOC,MADiC;AAExCC,SAAKD,MAFmC;AAGxCE,uBAAmBF,MAHqB;AAIxCG,iBAAaH,MAJ2B;AAKxCI,sBAAkBJ,MALsB;AAMxCK,cAAUL,MAN8B;AAOxCM,aAASC;AAP+B,CAAX,CAAjC;;AAUA,IAAMC,0BAA0B,mBAASC,KAAT,CAAe,UAAf,EAA2BX,wBAA3B,CAAhC;;AAEAU,wBAAwBE,IAAxB,GAA+B,UAACC,kBAAD;AAAA,WAAwB,kBAAGC,WAAWC,IAAX,YAAsBF,kBAAtB,CAAH,CAAxB;AAAA,CAA/B;;AAEAH,wBAAwBM,WAAxB,GAAsC,UAACf,KAAD;AAAA,WAAW,kBAAGgB,kBAAkBF,IAAlB,YAA6Bd,KAA7B,CAAH,CAAX;AAAA,CAAtC;;AAEAS,wBAAwBQ,MAAxB,GAAiC,UAACC,GAAD,EAAMC,IAAN;AAAA,WAAe,kBAAGC,aAAaN,IAAb,YAAwBI,GAAxB,EAA6BC,IAA7B,CAAH,CAAf;AAAA,CAAjC;;AAEA,IAAMH,4CAAoB,SAApBA,iBAAoB,CAAWhB,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACCS,wBAAwBY,IAAxB,CAA6B,EAAErB,YAAF,EAA7B,CADD;;AAAA;AAChBsB,4BADgB;AAAA,qDAEfA,QAFe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAApBN,iBAAoB;AAAA,CAApB,CAAN;;AAKA,IAAMH,qCAAa,SAAbA,UAAa,CAAWD,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACTW,4CADS,GACkB,IAAId,uBAAJ,CAA4BG,mBAAmBY,IAAnB,EAA5B,CADlB;AAAA;AAAA,2BAEQD,yBAAyBZ,IAAzB,EAFR;;AAAA;AAETW,4BAFS;AAAA,sDAGRA,QAHQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAbT,UAAa;AAAA,CAAb,CAAN;;AAMA,IAAMO,uCAAe,SAAfA,YAAe,CAAWF,GAAX,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACMV,wBAAwBgB,iBAAxB,CAA0C,EAAEP,QAAF,EAA1C,EAAmD,EAAEC,UAAF,EAAnD,CADN;;AAAA;AACXG,4BADW;AAAA,sDAEVA,QAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAfF,YAAe;AAAA,CAAf,CAAN;;kBAKeX,uB","file":"UserAuthenticationSchema.js","sourcesContent":["import {UserAuthentication} from './models';\nimport mongoose from 'mongoose';\nimport co from 'co';\n\nvar Schema = mongoose.Schema;\n\nconst UserAuthenticationSchema = new Schema({\n    state: String,\n    iss: String,\n    authorizationCode: String,\n    accessToken: String,\n    authorizationURL: String,\n    tokenURL: String,\n    patient: Number\n});\n\nconst UserAuthenticationModel = mongoose.model('UserAuth', UserAuthenticationSchema);\n\nUserAuthenticationModel.save = (userAuthentication) => co(saveHelper.bind(this, userAuthentication));\n\nUserAuthenticationModel.findByState = (state) => co(findByStateHelper.bind(this, state));\n\nUserAuthenticationModel.update = (_id, $set) => co(updateHelper.bind(this, _id, $set));\n\nconst findByStateHelper = function* (state) {\n    const userAuth = yield UserAuthenticationModel.find({ state });\n    return userAuth;\n}\n\nconst saveHelper = function* (userAuthentication) {\n    const userAuthenticationToSave = new UserAuthenticationModel(userAuthentication.toJS());\n    const userAuth = yield userAuthenticationToSave.save();\n    return userAuth;\n};\n\nconst updateHelper = function* (_id, $set) {\n    const userAuth = yield UserAuthenticationModel.findByIdAndUpdate({ _id }, { $set });\n    return userAuth;\n}\n\nexport default UserAuthenticationModel;\n\n\n"]}